/*	
 * jQuery Touch Optimized Sliders "R"Us
 * Youtube media
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 */
!function(t){function e(e){function u(t){l.length&&l[0].contentWindow.postMessage('{ "event": "command", "func": "'+t+'Video" }',"*")}c||(i=t[s]._c,o=t[s]._d,a=t[s]._e,n=t[s]._f,r=t[s]._g,o.add("ratio maxWidth maxHeight"),c=!0);var l=e.children(),f=e.data(t[s]._d.anchor)||t(),m=f.data(o.ratio)||this.opts[d].ratio,h=f.data(o.maxWidth)||this.opts[d].maxWidth,p=f.data(o.maxHeight)||this.opts[d].maxHeight;e.removeClass(i.loading).trigger(a.loaded).on(a.loading,function(t){n.resizeRatio(l,e,h,p,m)}),this.nodes.$wrpr.on(a.sliding,function(t){u("pause")}).on(a.opening,function(t){n.resizeRatio(l,e,h,p,m)}).on(a.closing,function(t){u("stop")}),r.$wndw.on(a.resize,function(t){n.resizeRatio(l,e,h,p,m)})}var i,o,a,n,r,s="tosrus",d="youtube",c=!1;t[s].media[d]={filterAnchors:function(t){return t.attr("href").toLowerCase().indexOf("youtube.com/watch?v=")>-1},initAnchors:function(i,o){var a=o;o=o.split("?v=")[1].split("&")[0],this.opts[d].imageLink?(o="http://img.youtube.com/vi/"+o+"/0.jpg",t('<a href="'+a+'" class="'+t[s]._c("play")+'" target="_blank" />').appendTo(i),t('<img border="0" />').on(t[s]._e.load,function(e){e.stopPropagation(),i.removeClass(t[s]._c.loading).trigger(t[s]._e.loaded)}).appendTo(i).attr("src",o)):(t('<iframe src="http://www.youtube.com/embed/'+o+'?enablejsapi=1" frameborder="0" allowfullscreen />').appendTo(i),e.call(this,i))},filterSlides:function(t){return t.is("iframe")&&t.attr("src")?t.attr("src").toLowerCase().indexOf("youtube.com/embed/")>-1:!1},initSlides:function(t){e.call(this,t)}},t[s].defaults.media[d]={},t[s].defaults[d]={ratio:16/9,maxWidth:!1,maxHeight:!1,imageLink:t[s].support.touch}}(jQuery);