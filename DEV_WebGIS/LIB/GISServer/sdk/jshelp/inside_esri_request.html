<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="content-language" content="en">
  <meta name="product" content="js-api-arcgis">
  <meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE">
  <meta name="sub_category" content="JavaScript API">
  <meta name="search-collection" content="help">
  <meta name="search-category" content="help-api,help-api-guide">
  <meta name="version" content="3.x">
  <meta name="content_type" content="Help Topic"> 
  <meta name="last-modified" content="2017-07-03"> 

  <link rel="stylesheet" href="../styles/screen.css">
  <link rel="stylesheet" href="../styles/jsdoc.css">
  <link rel="stylesheet" href="../styles/hljs-github.css">
  <link rel="stylesheet" href="../styles/homepage.css">
  <link rel="stylesheet" href="../styles/grid.css">
  <link rel="stylesheet" href="../styles/tree.css">
  <link rel="stylesheet" href="../prettify/prettify.css">
  <link rel="stylesheet" href="../styles/tailcoat-search.css">
  <link rel="stylesheet" href="//fast.fonts.com/cssapi/23855eec-5fdf-4594-9898-0113a04bfef0.css">
  <link rel="shortcut icon" href="../graphics/favicon.ico">

  <style>
    html {
      overflow-y: auto;
    }
    pre {
      font-size: 1.1em;
      line-height: normal;
      margin: 0;
    }
    #header nav li a {
      font-size: .875em;
    }
    #esri-logo {
      margin-left: 0;
    }
    h1.light {
      color: #fff;
    }
    .navigation-bar {
      background-image: url("../graphics/tailcoat/navigation-bar-background.jpg");
    }
  </style>
  <title>Retrieve data from a web server | Guide | ArcGIS API for JavaScript 3.21</title>
  
  
<script src="https://assets.adobedtm.com/2e9cd01e19dc5ac4867e752f17a2f1ea1923e5af/satelliteLib-0ed1001fd441a838aefe8e755be42aaafddcc46b.js"></script>


</head>

<body>
<header class="header">
  <div class="container">
    <nav class="site-nav">
        Go to <a href="https://developers.arcgis.com/javascript/">Latest version (official documentation)</a>
    </nav>
  </div>
</header>
          
  <div class="navigation-bar ">  
    <div class="container">
      <header>
        <h1 class="light"><a href="..">ArcGIS API for JavaScript <sup>3.21</sup></a></h1>
      </header>
       <nav class="navigation-bar-nav">
        <ul>
            <li class=""><a href="../">Home</a></li>
            <li class="current"><a href=".">Guide</a></li>
            <li class=""><a href="../jsapi/">API Reference</a></li>
            <li class=""><a href="../jssamples/">Sample Code</a></li>
            <li class=""><a class="icon-share icon-link-external" href="https://geonet.esri.com/community/developers/web-developers/arcgis-api-for-javascript">Forum</a></li>
        </ul>
      </nav>
    </div>
  </div> 

<div class="container_12">
  <div class="grid_3 contentWrapper">
    <div id="toggleToc">
      <img src="../graphics/tochide.gif" alt=""> Hide Table of Contents
    </div>
    <div id="apiToc"><div class="treeDiv" id="tree" style="top: 35px; left: 0px;">
  <div id="treeRoot">
    <div class="treeNode">
      <a class="treeUnselected" href="." onclick="clickAnchor(this)">Overview</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="whats_new.html" onclick="clickAnchor(this)">What's New in Version 3.21</a>
    </div>
    
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">Tutorials</span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="intro_firstmap_amd.html" onclick="clickAnchor(this)">Build your first application</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_agstemplate_amd.html" onclick="clickAnchor(this)">Use an ArcGIS.com webmap</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_dev.html" onclick="clickAnchor(this)">Mobile-specific application</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_directions.html" onclick="clickAnchor(this)">Directions widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="tutorial_search.html" onclick="clickAnchor(this)">Search widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="tutorial_label_layer.html" onclick="clickAnchor(this)">Labeling features client-side</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_javascript_classes.html" onclick="clickAnchor(this)">Write a class</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_custom_dijit.html" onclick="clickAnchor(this)">Create a re-usable widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="tutorial_sharing_maps_secure_layers.html" onclick="clickAnchor(this)">Share maps with secure layers</a>
        </div>
      </div>
    </div>
    
    
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">About the API</span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="intro_gettingstarted.html" onclick="clickAnchor(this)">Get Started</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_accessapi.html" onclick="clickAnchor(this)">Get the API</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="localization.html" onclick="clickAnchor(this)">Localization</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="css.html" onclick="clickAnchor(this)">Required CSS</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="supported_browsers.html" onclick="clickAnchor(this)">Supported Browsers</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="community.html" onclick="clickAnchor(this)">Community</a>
        </div>
        
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Dojo
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojo.html" onclick="clickAnchor(this)">Work with Dojo</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojoversion.html" onclick="clickAnchor(this)">Get Dojo</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojodijits.html" onclick="clickAnchor(this)">Dijits</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojo_amd.html" onclick="clickAnchor(this)">Dojo and AMD</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojoLayouts.html" onclick="clickAnchor(this)">Dojo Layouts</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojohelp.html" onclick="clickAnchor(this)">Additional resources</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="why_dojo.html" onclick="clickAnchor(this)">Why Dojo?</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        Work with the API
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="inside_defaults.html" onclick="clickAnchor(this)">Default API configurations</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_bundle.html" onclick="clickAnchor(this)">Default API strings</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_esri_request.html" onclick="clickAnchor(this)">Retrieve data from a web server</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_navigation.html" onclick="clickAnchor(this)">Map navigation</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_events.html" onclick="clickAnchor(this)">Events</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_extents.html" onclick="clickAnchor(this)">Set Extents</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_editing.html" onclick="clickAnchor(this)">Editing</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="arcade.html" onclick="clickAnchor(this)">Arcade</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_temporal.html" onclick="clickAnchor(this)">Time aware data</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_firsttask.html" onclick="clickAnchor(this)">Adding a task</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_querytask.html" onclick="clickAnchor(this)">Using QueryTask</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_custom_layers.html" onclick="clickAnchor(this)">Creating custom layer types</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_webmap.html" onclick="clickAnchor(this)">Web maps</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_analysiswidgets.html" onclick="clickAnchor(this)">Working with Analysis Widgets</a>
        </div>
        <div class="treeNode">
        <a class="treeUnselected" href="intro_search_widget.html" onclick="clickAnchor(this)">Working with the Search Widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_directions_widget.html" onclick="clickAnchor(this)">Working with the Directions Widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_geoenrichment.html" onclick="clickAnchor(this)">Working with GeoEnrichment Widgets</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_datareviewer.html" onclick="clickAnchor(this)">Working with DataReviewer</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_locationproviders.html" onclick="clickAnchor(this)">Location Providers (beta)</a>
        </div>
        
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">Graphics and feature layers</span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="inside_graphics.html" onclick="clickAnchor(this)">Graphics overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_feature_layers.html" onclick="clickAnchor(this)">Feature layer overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_renderers.html" onclick="clickAnchor(this)">Symbols and renderers</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_bettermaps.html" onclick="clickAnchor(this)">Data Visualization</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_styling_svg.html" onclick="clickAnchor(this)">Styling features with CSS</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Popups and Info Windows
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="intro_infowindow.html" onclick="clickAnchor(this)">Info windows and graphics</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_formatinfowindow.html" onclick="clickAnchor(this)">Format info window content</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_customize.html" onclick="clickAnchor(this)">Customize info windows</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_agspopup.html" onclick="clickAnchor(this)">Popup overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_popuptemplate.html" onclick="clickAnchor(this)">Format popup content</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_customizepopup.html" onclick="clickAnchor(this)">Customize popup</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Geoprocessor
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_overview.html" onclick="clickAnchor(this)">Geoprocessing overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_creating.html" onclick="clickAnchor(this)">Creating the geoprocessor</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_parameters.html" onclick="clickAnchor(this)">Geoprocessor parameters</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_running.html" onclick="clickAnchor(this)">Geoprocessing results</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Operations Dashboard
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="operations-dashboard-extensibility-overview.html" onclick="clickAnchor(this)">Overview</a>
            </div>
            <div class="treeNode">
              <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
              <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
                Get started
              </span>
              <div class="treeSubnodesHidden">
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-getstarted-setup-dev-env.html" onclick="clickAnchor(this)">Set up a development environment</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-getstarted-samples.html" onclick="clickAnchor(this)">Samples</a>
                </div>
              </div>
            </div>
            <div class="treeNode">
              <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
              <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
                Create extensions
              </span>
              <div class="treeSubnodesHidden">
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-overview.html" onclick="clickAnchor(this)">Overview of widgets, map tools and feature actions</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-widget.html" onclick="clickAnchor(this)">Create a widget</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-maptool.html" onclick="clickAnchor(this)">Create a map tool</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-configurable.html" onclick="clickAnchor(this)">Create a configurable extension</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-manifest.html" onclick="clickAnchor(this)">Manifest</a>
                </div>
              </div>
            </div>
            <div class="treeNode">
              <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
              <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
                Test and debug
              </span>
              <div class="treeSubnodesHidden">
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-test-debug.html" onclick="clickAnchor(this)">Test and debug in Operations Dashboard</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-troubleshooting.html" onclick="clickAnchor(this)">Troubleshooting</a>
                </div>
              </div>
            </div>
            <div class="treeNode">
              <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
              <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
                Deploy
              </span>
              <div class="treeSubnodesHidden">
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-deploy-overview.html" onclick="clickAnchor(this)">Overview of deploying extensions</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-deploy-setup-web-server.html" onclick="clickAnchor(this)">Set up a web server</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-deploy-register-ext.html" onclick="clickAnchor(this)">Register an extension</a>
                </div>
                <div class="treeNode">
                  <a class="treeUnselected" href="operations-dashboard-extensibility-deploy-update-ext.html" onclick="clickAnchor(this)">Update an extension</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">Mobile</span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_viewport.html" onclick="clickAnchor(this)">Viewport Settings</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_hardware.html" onclick="clickAnchor(this)">Device Detection and Browser Sniffing</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_orientation.html" onclick="clickAnchor(this)">Device Orientation</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_geolocation.html" onclick="clickAnchor(this)">Geolocation</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_frameworks.html" onclick="clickAnchor(this)">Frameworks</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_phonegap.html" onclick="clickAnchor(this)">Using PhoneGap</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_references.html" onclick="clickAnchor(this)">References</a>
        </div>
      </div>
    </div>
    
    
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        ArcGIS Server Services
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="ags_overview.html" onclick="clickAnchor(this)">Overview</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_rest.html" onclick="clickAnchor(this)">Services directory and the REST API</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_secureservices.html" onclick="clickAnchor(this)">Working with secure resources</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_proxy.html" onclick="clickAnchor(this)">Using the proxy page</a>
        </div>
      </div>
    </div>
    
    
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        References
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="inside_web_optimizer.html" onclick="clickAnchor(this)">Using the Web Optimizer</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_bower_custom_builds.html" onclick="clickAnchor(this)">Using Bower for Custom Builds</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="limits_for_graphics.html" onclick="clickAnchor(this)">Determine limits for map graphics</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="best_practices_feature_layers.html" onclick="clickAnchor(this)">Feature layer best practices</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_guidelines.html" onclick="clickAnchor(this)">Coding guidelines</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ref_coordsystems.html" onclick="clickAnchor(this)">Coordinate system IDs</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_faq.html" onclick="clickAnchor(this)">Frequently asked questions</a>
        </div>
      </div>
    </div>
    
    
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" alt=""/>
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        What's New archive
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="migration_30.html" onclick="clickAnchor(this)">Migrating to 3.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="migration_20.html" onclick="clickAnchor(this)">Migrating to 2.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v319.html" onclick="clickAnchor(this)">What's New in Version 3.20</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v319.html" onclick="clickAnchor(this)">What's New in Version 3.19</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v318.html" onclick="clickAnchor(this)">What's New in Version 3.18</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v317.html" onclick="clickAnchor(this)">What's New in Version 3.17</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v316.html" onclick="clickAnchor(this)">What's New in Version 3.16</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v315.html" onclick="clickAnchor(this)">What's New in Version 3.15</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v314.html" onclick="clickAnchor(this)">What's New in Version 3.14</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v313.html" onclick="clickAnchor(this)">What's New in Version 3.13</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v312.html" onclick="clickAnchor(this)">What's New in Version 3.12</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v311.html" onclick="clickAnchor(this)">What's New in Version 3.11</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v310.html" onclick="clickAnchor(this)">What's New in Version 3.10</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v39.html" onclick="clickAnchor(this)">What's New in Version 3.9</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v38.html" onclick="clickAnchor(this)">What's New in Version 3.8</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v37.html" onclick="clickAnchor(this)">What's New in Version 3.7</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v36.html" onclick="clickAnchor(this)">What's New in Version 3.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v35.html" onclick="clickAnchor(this)">What's New in Version 3.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v34.html" onclick="clickAnchor(this)">What's New in Version 3.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v33.html" onclick="clickAnchor(this)">What's New in Version 3.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v32.html" onclick="clickAnchor(this)">What's New in Version 3.2</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v31.html" onclick="clickAnchor(this)">What's New in Version 3.1</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v30.html" onclick="clickAnchor(this)">What's New in Version 3.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v28.html" onclick="clickAnchor(this)">What's New in Version 2.8</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v27.html" onclick="clickAnchor(this)">What's New in Version 2.7</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v26.html" onclick="clickAnchor(this)">What's New in Version 2.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v25.html" onclick="clickAnchor(this)">What's New in Version 2.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v24.html" onclick="clickAnchor(this)">What's New in Version 2.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v23.html" onclick="clickAnchor(this)">What's New in Version 2.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v22.html" onclick="clickAnchor(this)">What's New in Version 2.2</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v21.html" onclick="clickAnchor(this)">What's New in Version 2.1</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v20.html" onclick="clickAnchor(this)">What's New in Version 2.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v16.html" onclick="clickAnchor(this)">What's New in Version 1.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v15.html" onclick="clickAnchor(this)">What's New in Version 1.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v14.html" onclick="clickAnchor(this)">What's New in Version 1.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v13.html" onclick="clickAnchor(this)">What's New in Version 1.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v12.html" onclick="clickAnchor(this)">What's New in Version 1.2</a>
        </div>
      </div>
    </div>
    
  </div>
</div></div> 
  </div>
  <div class="grid_9 contentWrapper">
    <div id="topicPane"><div id="pageBanner">Retrieve data from a web server</div>
<div id="nstext">


<p><a href="../jsapi/esri.request-amd.html">esriRequest</a> is a utility method to retrieve data from a web server. Data can be static (stored in a file on the web server), or it can be dynamic (generated on-demand by a web service). esriRequest can handle the following formats:  </p>
<ul>
  <li>plain text</li>
  <li><a href="https://en.wikipedia.org/wiki/XML">XML</a></li>
  <li><a href="https://en.wikipedia.org/wiki/JSON">JSON</a></li>
  <li><a href="https://en.wikipedia.org/wiki/JSONP">JSONP</a> or "JSON with padding"</li>
</ul>

<h2>Prerequisites</h2>
<p>Before a request can be made, some information is required:</p>
<ol>
  <li>Location of the data i.e., URL</li>
  <li>For web services, any required parameters and appropriate values</li>
  <li>Data format</li>
</ol>

<p>Once these are known, there are two requirements to use esriRequest.</p>
<ol>
  <li>Import the module that has the source code for the function:
    <div class="detailSample"><pre class="prettyprint">require(["esri/request", ... ], function(esriRequest, ... ) { ... });</pre></div>
  </li>
  <li>If needed specify the location of the proxy. A proxy is a simple script that runs on a web server. It is automatically used by esriRequest for certain types of requests. More information is available on the <a href="ags_proxy.html">proxy set up page</a>.</li>
</ol>
<h2>Syntax</h2>
<div class="detailSample"><pre class="prettyprint">
var request = esriRequest({
  // Location of the data
  url: "&lt;String>",
  // Service parameters if required, sent with URL as key/value pairs
  content: {
    parameter1: &lt;value>,
    parameter2: &lt;value>
  },
  // Data format
  handleAs: "&lt;String>"
});
</pre></div>
<p>In the code above, esriRequest is not returning the actual data. If it were to return the actual data, it would have to wait for the data to be downloaded - which typically takes some time depending on network traffic, available bandwidth and the load on the remote server. Until then, the application would be frozen - not allowing you to interact with it. This is called <code>synchronous</code> behavior. Instead, to keep the application responsive, esriRequest always returns a <code>request</code> object that represents the request you've just made and makes the data available to you later when it is downloaded. This is called <code>asynchronous</code> behavior.</p>
<p>To access the data after it is downloaded, two functions are registered with the request object by calling its method named <code>then</code>. The first function (named requestSucceeded in the example code below, the function name is up to the developer) will be executed if the data retrieved without error. The second function (named requestFailed) will be executed if data download failed for some reason. These functions are also known as <code>callbacks.</code></p>
<div class="detailSample"><pre class="prettyprint">
function requestSucceeded(data) {
  console.log("Data: ", data); // print the data to browser's console
}

function requestFailed(error) {
  console.log("Error: ", error.message);
}

request.then(requestSucceeded, requestFailed);
</pre></div>

<p>Callbacks can also be defined inline:</p>
<div class="detailSample"><pre class="prettyprint">
request.then(
  function (data) {
    console.log("Data: ", data);
  },
  function (error) {
    console.log("Error: ", error.message);
  }
);
</pre></div>

<h2>Examples</h2>
<p><strong>Plain text:</strong></p>
<div class="detailSample"><pre class="prettyprint">
var earthquakes = esriRequest({
  url: "http://earthquake.usgs.gov/earthquakes/catalogs/eqs1day-M1.txt",
  handleAs: "text"
});
earthquakes.then(requestSucceeded, requestFailed);
</pre></div>
<a href="../jssamples/data_requestPlainText.html">Sample that requests plain text using esriRequest</a>

<p><strong>XML</strong></p>
<div class="detailSample"><pre class="prettyprint">
var earthquakes = esriRequest({
  url: "http://earthquake.usgs.gov/earthquakes/catalogs/7day-M5.xml",
  handleAs: "xml"
});
earthquakes.then(requestSucceeded, requestFailed);
</pre></div>
<a href="../jssamples/data_requestXML.html">Sample that requests XML using esriRequest</a>

<p><strong>JSON</strong></p>
<div class="detailSample"><pre class="prettyprint">
var earthquakes = esriRequest({
  url: "http://earthquake.usgs.gov/earthquakes/feed/geojson/4.5/week",
  handleAs: "json"
});
earthquakes.then(requestSucceeded, requestFailed);
</pre></div>
<a href="../jssamples/data_requestJson.html">Sample that requests JSON using esriRequest</a>

<p><strong>JSONP</strong></p>
<div class="detailSample"><pre class="prettyprint">
var flickrPhotos = esriRequest({
  url: "http://api.flickr.com/services/feeds/photos_public.gne",
  content: {
    tags:    "earthquakes,us",
    tagmode: "all",
    format:  "json"
  },
  handleAs: "json",
  callbackParamName: "jsoncallback"
});
flickrPhotos.then(requestSucceeded, requestFailed);
</pre></div>
<a href="../jssamples/data_requestJsonp.html">Sample that requests JSONP using esriRequest</a>
<br>
<br>

<p><a href="http://www.flickr.com/services/feeds/docs/photos_public/">Flickr's Public Feed</a> is an example of a web service that dynamically generates data (list of photos) based on some search criteria. The <a href="http://links.esri.com/server/rest-api">ArcGIS REST API</a> and <a href="http://links.esri.com/api/portal/rest">ArcGIS Portal API</a> are other examples where data is made available on-demand through web services.</p>
<p>The example above uses a special property called <code>callbackParamName</code>. You need to set this property when requesting for data available in JSONP format. The value of this property depends on the owner of the web service, which is usually available from the service documentation. For the flickr service, the value should be <code>"jsoncallback"</code>, as specified in <a href="http://www.flickr.com/services/api/response.json.html">Flickr's documentation</a>. For ArcGIS services, callbackParamName is always <code>"callback"</code>.</p>

<p>The information and examples above provide the background necessary to write applications that work with remote data. For additional information on the inner-workings of esriRequest, and additional advanced use cases, please read on.</p>



<h2>Additional Information and Use Cases</h2>
<p><strong>Upload a File</strong></p>
<p>esriRequest is primarily used to download data. However, it can also be used to upload a file from user's computer to a web server. The file can be of any type: Word Document, Excel Spreadsheet, CSV, PDF, JPEG, PNG etc.</p>
<p>To build an application capable of uploading files, the following is required:</p>

<ol>
    <li>Import relevant source code.
      <div class="detailSample">
<pre class="prettyprint">
// AMD
require(["esri/arcgis/utils", ... ], function(arcgisUtils, ... ) { ... });
require(["dojo/request/iframe"], function(iframe){ ... });
require(["esri/config", ... ], function(esriConfig, ... ) { ... });
</pre>
      </div>
    <li>Set a proxy for the application.
<div class="detailSample">
<pre class="prettyprint">
esriConfig.defaults.io.proxyUrl = "/proxy";
</pre>
</div>
    <li>Create a HTML Form with File Input control. Users can click on this file input control and select a file from their computer.
<div class="detailSample">
<pre class="prettyprint">
&lt;html&gt;
 &lt;head&gt;
   ...
 &lt;/head&gt;
 &lt;body&gt;
   &lt;form id="uploadForm" method="post" enctype="multipart/form-data"&gt;
     &lt;input type="file" name="attachment" /&gt;
   &lt;/form&gt;
 &lt;/body&gt;
&lt;/html&gt;
</pre>
</div>
The <code>form</code> element has three attributes: id, method and enctype (stands for encoding type). <code>id</code> assigns a unique name to the form so that you can refer to it from the JavaScript code below. <code>method</code> and <code>enctype</code> attributes indicate how the file should be uploaded and should always be "post" and "multipart/form-data", respectively.
<br><br>
The <code>input</code> element has two attributes: <code>type</code> and <code>name</code>. type should always be "file" since you want to present a file control to the user. name attribute uniquely identifies this input element within the form and its value depends on the web service to which you're uploading the file. For example: if you're uploading an attachment to <a href="http://sampleserver3.arcgisonline.com/ArcGIS/SDK/REST/fsaddattachment.html">ArcGIS Server Feature Service</a>, the name would be "attachment".
  <li>Call esriRequest to upload the selected file.
<div class="detailSample"><pre class="prettyprint">
var upload = esriRequest({
  url: "&lt;type-web-service-url-here&gt;",
  form: document.getElementById("uploadForm"),
  handleAs: "json"
});
upload.then(requestSucceeded, requestFailed);
</pre></div>
The <a href="../jssamples/exp_dragdrop.html">File Access with Drag and Drop sample</a> shows a working example of using this method to upload a file. <strong>Note</strong>: This file upload feature was added in version <strong>2.7</strong> of the API.
</ol>

<p><strong>Using a Proxy</strong></p>
<p>A proxy is a simple script that runs on your web server. It relays a request made by your web application running on a user's web browser to a remote web server and relays the response returned by the remote server back to the application. This is necessary because web browsers allow applications to make requests and retrieve data only from the web server where they are hosted. In other words, without a proxy, an application can only request information from the web server where it is running. This is called <a href="https://en.wikipedia.org/wiki/Same_origin_policy">same origin policy</a> (additional information on <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy">same origin policy info on the Mozilla Developer Network</a>). JSONP is a technique originally developed to circumvent same origin policy.</p>

<p>If you're building an application that requires data from a variety of services that run on different domains, you need a proxy to get around the same origin restriction. The proxy will act as an intermediary between the browser and remote server(s). The diagram below illustrates how this works.<br>
<img src="images/esri-request-proxy.png" alt="esriRequest using a proxy" title="esriRequest using a proxy" /></p>
<p><strong>Note</strong>:  A proxy is <em>not</em> required if your application and all of the data/web services used by it are on the same domain.</p>
<p>For more information on configuring a proxy, and example proxy pages for various server environments, refer to the <a href="ags_proxy.html">Using the Proxy Page</a> conceptual help topic.</p>

<p><strong>CORS</strong></p>
<p>CORS stands for Cross Origin Resource Sharing. It is a specification that allows a web server and web browser to interact and determine if a cross-origin request should be allowed.
The specification stipulates that the interaction should happen through a set of HTTP headers, which means that both the browser and server should implement the CORS specification.
Mozilla Developer Network provide more <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">technical details about how CORS works</a>.</p>

<p>CORS provides a better way to execute cross origin requests relative to using a proxy. esriRequest will avoid using a proxy if the following are true:</p>
<ol>
  <li>The <a href="http://caniuse.com/#search=cors">browser supports CORS</a>. All modern browsers support CORS.
  <li>The target web server supports CORS. ArcGIS Server 10.1 supports CORS out of the box. Versions 9.3 and 10.0 do not have support for CORS but can be easily added by an administrator. <a href="http://enable-cors.org/">enable-cors.org</a> has detailed instructions on how to do this.
</ol>
<p>If an application makes requests to an ArcGIS Server, esriRequest will automatically detect if that server supports CORS. However, if a server is known to support CORS, it is recommended that you configure your application manually by telling the API that a server supports CORS:
<div class="detailSample"><pre class="prettyprint">
require(["esri/config", ... ], function(esriConfig, ... ) {
  esriConfig.defaults.io.corsEnabledServers.push("services.myorganization.com");
});
</pre></div>
<p>The diagram below illustrates how an application talks to a remote server that supports CORS.<br>
<img src="images/esri-request-cors.png" alt="esriRequest using CORS" title="esriRequest using CORS" /></p>
<strong>Note</strong>:  Initial CORS support was added at version 2.5. Automatic CORS detection for ArcGIS server was added at version 3.0

<p><strong>Security</strong></p>
<p>While much of the data and many of the services on the web today are freely accessible to everyone, some are protected and accessible only to some users as designated by the owner/publisher/server administrator. ArcGIS Server provides administrators the ability to control access to their GIS web services using a token-based authentication mechanism. esriRequest has integrated support for ArcGIS token-based authentication.</p>
<p>When developing an application that uses secure ArcGIS services, import the <a href="../jsapi/identitymanager-amd.html">identity manager</a> module and esriRequest will automatically use it to manage the authentication process:</p>
<div class="detailSample"><pre class="prettyprint">
// AMD
require(["esri/arcgis/utils", ... ], function(arcgisUtils, ... ) { ... });
require(["esri/IdentityManager", ... ], function(IdentityManager, ... ){ ... });
</pre></div>
<p><strong>Note</strong>:  The identity manager was added to the API at version <strong>2.5</strong>.</p>

<h2>Under the Hood:  Determining Which Dojo Method is Used</h2>
<p>esriRequest uses the appropriate method to execute a request based on the target of the request and what the browser supports. The native method to do AJAX requests is to use XMLHttpRequest(XHR). Because there are subtle differences in how XHR is implemented across browsers, Dojo abstracts away and addresses cross-browser inconsistencies via dojo.xhrGet and dojo.xhrPost. Dojo also provides methods in the dojo.io namespace to do AJAX-style requests with JSONP and to use an iframe to upload files.</p>
<p>esriRequest sits on top of the methods defined by Dojo to provide a clean, simple way to execute AJAX-style requests. Depending on the arguments passed to esriRequest, different Dojo methods are used. The following pseudocode is a rough outline of how esriRequest works.</p>
<br>
<strong>JSONP:</strong>
<pre>
If JSONP request
  If target on same domain
    Convert to JSON request
  Else If CORS available
    Convert to JSON request
  Else
    If request size is 2000 characters or less
      Call dojo.io.script.get
    Else
      Convert to JSON request
</pre >
<br>
<strong>JSON / XML / plain text:</strong>
<pre>
If JSON / XML / PlainText request
  If target not on same domain && CORS not available
    Rewrite request url to use proxy
  If request size is 2000 characters or less
    Call dojo.xhrGet
  Else
    Call dojo.xhrPost
</pre>
<br>
<strong>File Uploads:</strong>
<pre>
If File Upload request
  If browser supports native file upload
    If target not on same domain && CORS not available
      Rewrite request url to use proxy
    Call dojo.xhrPost
  Else
    If target not on same domain
      Rewrite request url to use proxy
    Call dojo.io.iframe.send
</pre>
<br>

<h2>Additions to esriRequest at Various Releases</h2>
<p>Changes to esriRequest have been made at various API releases. Below is a summary of those changes:</p>
<ul>
  <li>1.3:  Setting useProxy to true will force use of a proxy</li>
  <li>2.1:  useProxy was added to an options argument that allows you to specify the useProxy and usePost options. This method includes a default error handler in cases when the server response is an error.  The returned object is dojo.Deferred.</li>
  <li>2.5:  disableIdentityLookup parameter added to options</li>
  <li>2.7: Added support for uploading files from a user's computer to a server. This can be useful if you want to build an application that allows users to upload files to the server. See the <a href="../jssamples/exp_dragdrop.html">Drag Drop Sample</a> for an example that uses this to upload csv files.</li>
  <li>3.0:  Automatic detection of CORS support and use JSON instead of JSONP where possible</li>
</ul>


</div>

 <div id="wh_footer" class="footnote">
  <!--<a href="mailto:js_feedback@esri.com?subject=Feedback%20on%203.21%20Guide:%20jshelp/inside_esri_request.html">Report an error on this page</a>.
  <br>-->
  <a href="http://www.esri.com/legal/copyright-trademarks">Copyright &copy; 2017 Esri</a>. All rights reserved. | <a href="http://www.esri.com/legal/privacy">Privacy</a> | <a href="https://developers.arcgis.com/en/terms/faq/">Terms of use</a>
</div>
</div> 
  </div>
</div> 


<script src="../scripts/tree.js"></script>

<script src="../prettify/prettify.js"></script>
<script>
  var dojoConfig = {
    async: true,
    packages: [{
      "name": "js",
      "location": location.pathname.replace(/\/[^/]+$/, "/") + "../scripts"
    }]
  };
</script>
<script src="../scripts/libs/tailcoat.js"></script>

<script src="../scripts/libs/dojo-esri/dojo/dojo.js" data-dojo-config="async: true,locale: 'en-us'"></script>
<script src="../scripts/esri-main-concepts.js"></script>

<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NJGGV5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script>

 



<script type="text/javascript">if (_satellite && _satellite.pageBottom) { _satellite.pageBottom(); }</script>
<script type="text/javascript" src="https://go.pardot.com/dcjs/82202/1182/dc.js"></script>


</body>
</html>
